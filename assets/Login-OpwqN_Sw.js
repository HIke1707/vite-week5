import{l as p,m as l,c as _,a as o,h,k as i,s as c,o as f}from"./index-CJQ5E9zL.js";const w={class:"container"},v={class:"row justify-content-center text-center"},x=o("h1",{class:"h3 mb-3 mt-5 font-weight-normal"}," 請先登入 ",-1),b={class:"col-8"},g={class:"form-floating mb-3"},k=o("label",{for:"username"},"Email address",-1),y={class:"form-floating"},B=o("label",{for:"password"},"Password",-1),U=o("button",{class:"btn btn-lg btn-primary w-100 mt-3",type:"submit"}," 登入 ",-1),V=o("p",{class:"mt-5 mb-3 text-muted text-center"}," © 2021~∞ - 六角學院 ",-1),q={__name:"Login",setup($){const r=p("axios"),d="https://ec-course-api.hexschool.io/v2",t=l(null),a=l(null),m=async()=>{const n={username:t.value,password:a.value};await r.post(`${d}/admin/signin`,n).then(s=>{console.log(s);const{token:e,expired:u}=s.data;document.cookie=`hextoken=${e}; expires=${new Date(u)}; path=/`,window.location="#/admin"}).catch(s=>{console.log(s)})};return(n,s)=>(f(),_("div",w,[o("div",v,[x,o("div",b,[o("form",{id:"form",class:"form-signin",onSubmit:h(m,["prevent"])},[o("div",g,[i(o("input",{type:"email",class:"form-control",id:"username",placeholder:"name@example.com","onUpdate:modelValue":s[0]||(s[0]=e=>t.value=e),required:"",autofocus:""},null,512),[[c,t.value]]),k]),o("div",y,[i(o("input",{type:"password",class:"form-control",id:"password",placeholder:"Password","onUpdate:modelValue":s[1]||(s[1]=e=>a.value=e),required:""},null,512),[[c,a.value]]),B]),U],32)])]),V]))}};export{q as default};
